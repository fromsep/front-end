<html>
<head></head>
<script src="./public/vue.js"></script>
<style>
    div.ball {
        width: 50px;
        height: 50px;
        background-color: red;
        border-radius: 50%;
    }
</style>

<body>
    <div id="app">
        <input type="button" value="切换" @click="flag=!flag">

        <transition 
            @before-enter="beforeEnter"
            @enter="enter"
            @after-enter="afterEnter">
            <div class="ball" v-show="flag"></div>
        </transition>

    </div>

    <script>
        var vm = new Vue({
            el: "#app",
            data: {
                flag: false
            },
            methods: {
                beforeEnter(el) {
                    el.style.transform = "translate(0, 0)";
                },
                enter(el, done) {
                    el.offsetWith;
                    el.style.transform = "translate(150px, 450px)";
                    el.style.transition = "all 1s ease";
                    done();
                },
                afterEnter(el) {
                    this.flag = !this.flag;
                }
            },
        });
    </script>
</body>
</html>